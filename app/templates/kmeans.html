<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}
<div class="jumbotron">
<div class="container">
  <br>
  <h2>Cluster Analysis : K-means</h2>
  <p>
  A toy K-means example. It first calls the FileReader module to read the input file from HDFS.
  And then calls the ClusterAnalysis module to run the Kmeans algorithm.<br><br>
  </p>
  <form class="form-horizontal" action="" method="post" name="kmenas">
      {{ form.hidden_tag() }}
    <div class="form-group">
        <label for="inputFile" class="control-label col-xs-2">Input File</label>
        <div class="col-xs-6">
	    {{ form.inputFile(class_="form-control", id="inputFile") }}
        </div>
        <div class="col-xs-8">
          {% for error in form.inputFile.errors %}
            <span style="color: red;">[{{ error }}]</span>
          {% endfor %}
        </div>
    </div>
    <div class="form-group">
        <label for="numClusters" class="control-label col-xs-2">Number of Clusters</label>
        <div class="col-xs-3">
	    {{ form.numClusters(class_="form-control", id="numClusters") }}
        </div>
        <div class="col-xs-8">
          {% for error in form.numClusters.errors %}
            <span style="color: red;">[{{ error }}]</span>
          {% endfor %}
        </div>
    </div>
    <div class="form-group">
        <label for="numIterations" class="control-label col-xs-2">Number of Iterations</label>
        <div class="col-xs-3">
	    {{ form.numIterations(class_="form-control", id="numIterations") }}
        </div>
        <div class="col-xs-8">
          {% for error in form.numIterations.errors %}
            <span style="color: red;">[{{ error }}]</span>
          {% endfor %}
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-offset-2 col-xs-10">
            <button type="submit" class="btn btn-primary btn-lg">Go!</button>
        </div>
    </div>
  </form>
</div>
{% if resp is defined %}
<div class="container">
<table class="table table-bordered">
  <caption>K-means training result</caption>
   <tbody>
{% for key, value in resp.items() recursive %}
      <tr>
         <td>{{ key }}</td>
         <td>{{ value }}</td>
      </tr>
{% endfor %}
   </tbody>
</table>
</div>
{% endif %}
</div>
{% endblock %}
